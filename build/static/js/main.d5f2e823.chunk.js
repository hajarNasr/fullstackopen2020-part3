(this.webpackJsonpmyreactapp=this.webpackJsonpmyreactapp||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),o=t.n(c),u=t(4),l=t(2),i=t(3),s=t.n(i),m="/api/persons",f=function(e){var n=e.onChangeSearchTerm,t=e.searchTerm;return r.a.createElement("div",null,"Filter by:",r.a.createElement("input",{onChange:n,value:t}))},d=function(e){var n=e.name,t=e.phone,a=e.onChangeName,c=e.onChangePhone,o=e.onSubmit;return r.a.createElement("form",{onSubmit:o},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"phone: ",r.a.createElement("input",{value:t,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",null,"add")))},p=function(e){var n=e.persons,t=e.onDeletePerson;return r.a.createElement("ul",null,n.map((function(e,n){return r.a.createElement("li",{key:"".concat(e.name," ").concat(n)},r.a.createElement("span",null,e.name," ",e.number),r.a.createElement("button",{onClick:function(){return t(e.id)}},"delete"))})))},h=(t(38),function(e){var n=e.msg;return r.a.createElement("div",{className:"error"===n.type?"error":"success"},r.a.createElement("p",null,n.content))}),b=function(e){return e.toLowerCase()},E=function(e,n){return e.find((function(e){return b(e.name)===b(n)}))},y=function(){var e={type:"",content:""},n=Object(a.useState)([]),t=Object(l.a)(n,2),c=t[0],o=t[1],i=Object(a.useState)(""),y=Object(l.a)(i,2),v=y[0],g=y[1],j=Object(a.useState)(""),O=Object(l.a)(j,2),w=O[0],C=O[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),P=k[0],T=k[1],N=Object(a.useState)(e),D=Object(l.a)(N,2),J=D[0],x=D[1];Object(a.useEffect)((function(){s.a.get(m).then((function(e){return e.data})).then((function(e){o(function(e,n){return e.filter((function(e){return b(e.name).includes(b(n))}))}(e,P))})),J.type&&setTimeout((function(){x(e)}),2e3)}),[P,J]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(f,{searchTerm:P,onChangeSearchTerm:function(e){return T(e.target.value)}}),r.a.createElement("h3",null,"Add New Person"),r.a.createElement(d,{name:v,phone:w,onChangeName:function(e){return g(e.target.value)},onChangePhone:function(e){return C(e.target.value)},onSubmit:function(e){if(e.preventDefault(),E(c,v)){if(window.confirm("".concat(v," is already added to phonebook. Want to update their phone's number?"))){var n=E(c,v),t=Object(u.a)(Object(u.a)({},n),{},{number:w});(function(e,n){return s.a.put("".concat(m,"/").concat(e),n).then((function(e){return e.data}))})(n.id,t).then((function(e){o(c.map((function(n){return n.id!==e.id?n:e}))),x({type:"success",content:"".concat(v,"'s phone number was add successfully updated.")})})).catch((function(e){x({type:"error",content:e.response.data.error})}))}}else(a={name:v,number:w},s.a.post(m,a).then((function(e){return e.data}))).then((function(e){o(c.concat(e)),g(""),C(""),x({type:"success",content:"".concat(v," was add successfully your notebook.")})})).catch((function(e){x({type:"error",content:e.response.data.error})}));var a}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(p,{persons:c,onDeletePerson:function(e){window.confirm("You sure you want to delete this person?")&&function(e){return s.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))}(e).then((function(n){o(c.filter((function(n){return n.id!==e}))),x({type:"success",content:"Successfully deleted."})})).catch((function(e){x({type:"error",content:"The person you're trying to delete has already been removed from the server."})}))}}),J.type&&r.a.createElement(h,{msg:J}))};o.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.d5f2e823.chunk.js.map