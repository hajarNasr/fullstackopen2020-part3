(this.webpackJsonpmyreactapp=this.webpackJsonpmyreactapp||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(14),r=t.n(c),u=t(4),l=t(2),s=t(3),i=t.n(s),m="/api/persons",f=function(e){var n=e.onChangeSearchTerm,t=e.searchTerm;return o.a.createElement("div",null,"Filter by:",o.a.createElement("input",{onChange:n,value:t}))},d=function(e){var n=e.name,t=e.phone,a=e.onChangeName,c=e.onChangePhone,r=e.onSubmit;return o.a.createElement("form",{onSubmit:r},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:n,onChange:a})),o.a.createElement("div",null,"phone: ",o.a.createElement("input",{value:t,onChange:c})),o.a.createElement("div",null,o.a.createElement("button",null,"add")))},p=function(e){var n=e.persons,t=e.onDeletePerson;return o.a.createElement("ul",null,n.map((function(e,n){return o.a.createElement("li",{key:"".concat(e.name," ").concat(n)},o.a.createElement("span",null,e.name," ",e.number),o.a.createElement("button",{onClick:function(){return t(e.id)}},"delete"))})))},h=(t(38),function(e){var n=e.msg;return o.a.createElement("div",{className:"error"===n.type?"error":"success"},o.a.createElement("p",null,n.content))}),b=function(e){return e.toLowerCase()},E=function(e,n){return e.find((function(e){return b(e.name)===b(n)}))},g=function(){var e={type:"",content:""},n=Object(a.useState)([]),t=Object(l.a)(n,2),c=t[0],r=t[1],s=Object(a.useState)(""),g=Object(l.a)(s,2),v=g[0],y=g[1],j=Object(a.useState)(""),O=Object(l.a)(j,2),w=O[0],C=O[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),P=k[0],T=k[1],N=Object(a.useState)(e),D=Object(l.a)(N,2),J=D[0],x=D[1];Object(a.useEffect)((function(){i.a.get(m).then((function(e){return e.data})).then((function(e){r(function(e,n){return e.filter((function(e){return b(e.name).includes(b(n))}))}(e,P))})).catch((function(e){console.log(e)})),J.type&&setTimeout((function(){x(e)}),2e3)}),[P,J]);return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(f,{searchTerm:P,onChangeSearchTerm:function(e){return T(e.target.value)}}),o.a.createElement("h3",null,"Add New Person"),o.a.createElement(d,{name:v,phone:w,onChangeName:function(e){return y(e.target.value)},onChangePhone:function(e){return C(e.target.value)},onSubmit:function(e){if(e.preventDefault(),E(c,v)){if(window.confirm("".concat(v," is already added to phonebook. Want to update their phone's number?"))){var n=E(c,v),t=Object(u.a)(Object(u.a)({},n),{},{number:w});(function(e,n){return i.a.put("".concat(m,"/").concat(e),n).then((function(e){return e.data}))})(n.id,t).then((function(e){r(c.map((function(n){return n.id!==e.id?n:e}))),x({type:"success",content:"".concat(v,"'s phone number was add successfully updated.")})})).console.log((function(e){console.log(e),console.log(e.response)}))}}else(a={name:v,number:w},i.a.post(m,a).then((function(e){return e.data}))).then((function(e){r(c.concat(e)),y(""),C(""),x({type:"success",content:"".concat(v," was add successfully your notebook.")})})).console.log((function(e){console.log(e),console.log(e.response)}));var a}}),o.a.createElement("h3",null,"Numbers"),o.a.createElement(p,{persons:c,onDeletePerson:function(e){window.confirm("You sure you want to delete this person?")&&function(e){return i.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))}(e).then((function(n){r(c.filter((function(n){return n.id!==e}))),x({type:"success",content:"Successfully deleted."})})).catch((function(e){x({type:"error",content:"The person you're trying to delete has already been removed from the server."})}))}}),J.type&&o.a.createElement(h,{msg:J}))};r.a.render(o.a.createElement(g,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.cb5db421.chunk.js.map